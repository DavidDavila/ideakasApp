/*! skrollr 0.6.26 (2014-06-08) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */(function(d,B,c){"use strict";function E(e){if(v=B.documentElement,N=B.body,Je(),s=this,e=e||{},ee=e.constants||{},e.easing)for(var t in e.easing)J[t]=e.easing[t];ve=e.edgeStrategy||"set",O={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},R=e.forceHeight!==!1,R&&(ge=e.scale||1),te=e.mobileDeceleration||Ye,de=e.smoothScrolling!==!1,ne=e.smoothScrollingDuration||Re,$={targetTop:s.getScrollTop()},H=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||d.opera)})(),H?(D=B.getElementById("skrollr-body"),D&&ft(),tt(),q(v,[K,Ee],[pe])):q(v,[K,Fe],[pe]),s.refresh(),_e(d,"resize orientationchange",function(){var r=v.clientWidth,o=v.clientHeight;(o!==Te||r!==he)&&(Te=o,he=r,ae=!0)});var n=Qe();return function r(){ot(),Ce=n(r)}(),s}var v,N,I={get:function(){return s},init:function(e){return s||new E(e)},VERSION:"0.6.26"},ie=Object.prototype.hasOwnProperty,b=d.Math,se=d.getComputedStyle,Se="touchstart",ke="touchmove",we="touchcancel",xe="touchend",j="skrollable",fe=j+"-before",ce=j+"-between",ue=j+"-after",K="skrollr",pe="no-"+K,Fe=K+"-desktop",Ee=K+"-mobile",Ae="linear",He=1e3,Ye=.004,Re=200,Ue="start",Ie="end",De="center",Pe="bottom",G="___skrollable_id",me=/^(?:input|textarea|button|select)$/i,Xe=/^\s+|\s+$/g,je=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,We=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,Ze=/^(@?[a-z\-]+)\[(\w+)\]$/,Ne=/-([a-z0-9_])/g,Oe=function(e,t){return t.toUpperCase()},Ve=/[\-+]?[\d]*\.?[\d]+/g,ze=/\{\?\}/g,qe=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,Le=/[a-z\-]+-gradient/g,x="",Y="",Je=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(se){var t=se(N,null);for(var n in t)if(x=n.match(e)||+n==n&&t[n].match(e))break;if(!x)return x=Y="",c;x=x[0],x.slice(0,1)==="-"?(Y=x,x={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[x]):Y="-"+x.toLowerCase()+"-"}},Qe=function(){var e=d.requestAnimationFrame||d[x.toLowerCase()+"RequestAnimationFrame"],t=X();return(H||!e)&&(e=function(n){var r=X()-t,o=b.max(0,1e3/60-r);return d.setTimeout(function(){t=X(),n()},o)}),e},et=function(){var e=d.cancelAnimationFrame||d[x.toLowerCase()+"CancelAnimationFrame"];return(H||!e)&&(e=function(t){return d.clearTimeout(t)}),e},J={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-b.cos(e*b.PI)/2+.5},sqrt:function(e){return b.sqrt(e)},outCubic:function(e){return b.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-b.abs(3*b.cos(1.028*e*t)/t)}};E.prototype.refresh=function(e){var t,n,r=!1;for(e===c?(r=!0,F=[],be=0,e=B.getElementsByTagName("*")):e.length===c&&(e=[e]),t=0,n=e.length;n>t;t++){var o=e[t],l=o,a=[],i=de,m=ve,u=!1;if(r&&G in o&&delete o[G],o.attributes){for(var k=0,V=o.attributes.length;V>k;k++){var f=o.attributes[k];if(f.name!=="data-anchor-target")if(f.name!=="data-smooth-scrolling")if(f.name!=="data-edge-strategy")if(f.name!=="data-emit-events"){var g=f.name.match(je);if(g!==null){var y={props:f.value,element:o,eventType:f.name.replace(Ne,Oe)};a.push(y);var _=g[1];_&&(y.constant=_.substr(1));var M=g[2];/p$/.test(M)?(y.isPercentage=!0,y.offset=(0|M.slice(0,-1))/100):y.offset=0|M;var A=g[3],z=g[4]||A;A&&A!==Ue&&A!==Ie?(y.mode="relative",y.anchors=[A,z]):(y.mode="absolute",A===Ie?y.isEnd=!0:y.isPercentage||(y.offset=y.offset*ge))}}else u=!0;else m=f.value;else i=f.value!=="off";else if(l=B.querySelector(f.value),l===null)throw'Unable to find anchor target "'+f.value+'"'}if(a.length){var h,w,T;!r&&G in o?(T=o[G],h=F[T].styleAttr,w=F[T].classAttr):(T=o[G]=be++,h=o.style.cssText,w=Ge(o)),F[T]={element:o,styleAttr:h,classAttr:w,anchorTarget:l,keyFrames:a,smoothScrolling:i,edgeStrategy:m,emitEvents:u,lastFrameIndex:-1},q(o,[j],[])}}}for(Be(),t=0,n=e.length;n>t;t++){var P=F[e[t][G]];P!==c&&(at(P),it(P))}return s},E.prototype.relativeToAbsolute=function(e,t,n){var r=v.clientHeight,o=e.getBoundingClientRect(),l=o.top,a=o.bottom-o.top;return t===Pe?l-=r:t===De&&(l-=r/2),n===Pe?l+=a:n===De&&(l+=a/2),l+=s.getScrollTop(),0|l+.5},E.prototype.animateTo=function(e,t){t=t||{};var n=X(),r=s.getScrollTop();return p={startTop:r,topDiff:e-r,targetTop:e,duration:t.duration||He,startTime:n,endTime:n+(t.duration||He),easing:J[t.easing||Ae],done:t.done},p.topDiff||(p.done&&p.done.call(s,!1),p=c),s},E.prototype.stopAnimateTo=function(){p&&p.done&&p.done.call(s,!0),p=c},E.prototype.isAnimatingTo=function(){return!!p},E.prototype.isMobile=function(){return H},E.prototype.setScrollTop=function(e,t){return U=t===!0,H?Z=b.min(b.max(e,0),S):d.scrollTo(0,e),s},E.prototype.getScrollTop=function(){return H?Z:d.pageYOffset||v.scrollTop||N.scrollTop||0},E.prototype.getMaxScrollTop=function(){return S},E.prototype.on=function(e,t){return O[e]=t,s},E.prototype.off=function(e){return delete O[e],s},E.prototype.destroy=function(){var e=et();e(Ce),ut(),q(v,[pe],[K,Fe,Ee]);for(var t=0,n=F.length;n>t;t++)Q(F[t].element);v.style.overflow=N.style.overflow="",v.style.height=N.style.height="",D&&I.setStyle(D,"transform","none"),s=c,D=c,O=c,R=c,S=0,ge=1,ee=c,te=c,L="down",C=-1,he=0,Te=0,ae=!1,p=c,de=c,ne=c,$=c,U=c,be=0,ve=c,H=!1,Z=0,W=c};var tt=function(){var e,t,n,r,o,l,a,i,m,u,k,V;_e(v,[Se,ke,we,xe].join(" "),function(f){var g=f.changedTouches[0];for(r=f.target;r.nodeType===3;)r=r.parentNode;switch(o=g.clientY,l=g.clientX,u=f.timeStamp,me.test(r.tagName)||f.preventDefault(),f.type){case Se:e&&e.blur(),s.stopAnimateTo(),e=r,t=a=o,n=l,m=u;break;case ke:me.test(r.tagName)&&B.activeElement!==r&&f.preventDefault(),i=o-a,V=u-k,s.setScrollTop(Z-i,!0),a=o,k=u;break;default:case we:case xe:var y=t-o,_=n-l,M=_*_+y*y;if(49>M){if(!me.test(e.tagName)){e.focus();var A=B.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,f.view,1,g.screenX,g.screenY,g.clientX,g.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,0,null),e.dispatchEvent(A)}return}e=c;var z=i/V;z=b.max(b.min(z,3),-3);var h=b.abs(z/te),w=z*h+.5*te*h*h,T=s.getScrollTop()-w,P=0;T>S?(P=(S-T)/w,T=S):0>T&&(P=-T/w,T=0),h*=1-P,s.animateTo(0|T+.5,{easing:"outCubic",duration:h})}}),d.scrollTo(0,0),v.style.overflow=N.style.overflow="hidden"},nt=function(){var e,t,n,r,o,l,a,i,m,u,k,V=v.clientHeight,f=pt();for(i=0,m=F.length;m>i;i++)for(e=F[i],t=e.element,n=e.anchorTarget,r=e.keyFrames,o=0,l=r.length;l>o;o++)a=r[o],u=a.offset,k=f[a.constant]||0,a.frame=u,a.isPercentage&&(u*=V,a.frame=u),a.mode==="relative"&&(Q(t),a.frame=s.relativeToAbsolute(n,a.anchors[0],a.anchors[1])-u,Q(t,!0)),a.frame+=k,R&&!a.isEnd&&a.frame>S&&(S=a.frame);for(S=b.max(S,mt()),i=0,m=F.length;m>i;i++){for(e=F[i],r=e.keyFrames,o=0,l=r.length;l>o;o++)a=r[o],k=f[a.constant]||0,a.isEnd&&(a.frame=S-a.offset+k);e.keyFrames.sort(dt)}},rt=function(e,t){for(var n=0,r=F.length;r>n;n++){var o,l,a=F[n],i=a.element,m=a.smoothScrolling?e:t,u=a.keyFrames,k=u.length,V=u[0],f=u[u.length-1],g=V.frame>m,y=m>f.frame,_=g?V:f,M=a.emitEvents,A=a.lastFrameIndex;if(g||y){if(g&&a.edge===-1||y&&a.edge===1)continue;switch(g?(q(i,[fe],[ue,ce]),M&&A>-1&&(re(i,V.eventType,L),a.lastFrameIndex=-1)):(q(i,[ue],[fe,ce]),M&&k>A&&(re(i,f.eventType,L),a.lastFrameIndex=k)),a.edge=g?-1:1,a.edgeStrategy){case"reset":Q(i);continue;case"ease":m=_.frame;break;default:case"set":var z=_.props;for(o in z)ie.call(z,o)&&(l=$e(z[o].value),o.indexOf("@")===0?i.setAttribute(o.substr(1),l):I.setStyle(i,o,l));continue}}else a.edge!==0&&(q(i,[j,ce],[fe,ue]),a.edge=0);for(var h=0;k-1>h;h++)if(m>=u[h].frame&&u[h+1].frame>=m){var w=u[h],T=u[h+1];for(o in w.props)if(ie.call(w.props,o)){var P=(m-w.frame)/(T.frame-w.frame);P=w.props[o].easing(P),l=st(w.props[o].value,T.props[o].value,P),l=$e(l),o.indexOf("@")===0?i.setAttribute(o.substr(1),l):I.setStyle(i,o,l)}M&&A!==h&&(L==="down"?re(i,w.eventType,L):re(i,T.eventType,L),a.lastFrameIndex=h);break}}},ot=function(){ae&&(ae=!1,Be());var e,t,n=s.getScrollTop(),r=X();if(p)r>=p.endTime?(n=p.targetTop,e=p.done,p=c):(t=p.easing((r-p.startTime)/p.duration),n=0|p.startTop+t*p.topDiff),s.setScrollTop(n,!0);else if(!U){var o=$.targetTop-n;o&&($={startTop:C,topDiff:n-C,targetTop:n,startTime:ye,endTime:ye+ne}),$.endTime>=r&&(t=J.sqrt((r-$.startTime)/ne),n=0|$.startTop+t*$.topDiff)}if(H&&D&&I.setStyle(D,"transform","translate(0, "+-Z+"px) "+W),U||C!==n){L=n>C?"down":C>n?"up":L,U=!1;var l={curTop:n,lastTop:C,maxTop:S,direction:L},a=O.beforerender&&O.beforerender.call(s,l);a!==!1&&(rt(n,s.getScrollTop()),C=n,O.render&&O.render.call(s,l)),e&&e.call(s,!1)}ye=r},at=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,o,l,a,i=e.keyFrames[t],m={};(a=We.exec(i.props))!==null;)l=a[1],o=a[2],r=l.match(Ze),r!==null?(l=r[1],r=r[2]):r=Ae,o=o.indexOf("!")?lt(o):[o.slice(1)],m[l]={value:o,easing:J[r]};i.props=m}},lt=function(e){var t=[];return qe.lastIndex=0,e=e.replace(qe,function(n){return n.replace(Ve,function(r){return 100*(r/255)+"%"})}),Y&&(Le.lastIndex=0,e=e.replace(Le,function(n){return Y+n})),e=e.replace(Ve,function(n){return t.push(+n),"{?}"}),t.unshift(e),t},it=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)Me(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)Me(e.keyFrames[t],r)},Me=function(e,t){var n;for(n in t)ie.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},st=function(e,t,n){var r,o=e.length;if(o!==t.length)throw`Can't interpolate between "`+e[0]+'" and "'+t[0]+'"';var l=[e[0]];for(r=1;o>r;r++)l[r]=e[r]+(t[r]-e[r])*n;return l},$e=function(e){var t=1;return ze.lastIndex=0,e[0].replace(ze,function(){return e[t++]})},Q=function(e,t){e=[].concat(e);for(var n,r,o=0,l=e.length;l>o;o++)r=e[o],n=F[r[G]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,q(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ge(r),r.style.cssText=n.styleAttr,q(r,n.classAttr)))},ft=function(){W="translateZ(0)",I.setStyle(D,"transform",W);var e=se(D),t=e.getPropertyValue("transform"),n=e.getPropertyValue(Y+"transform"),r=t&&t!=="none"||n&&n!=="none";r||(W="")};I.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(Ne,Oe).replace("-",""),t==="zIndex")r[t]=isNaN(n)?n:""+(0|n);else if(t==="float")r.styleFloat=r.cssFloat=n;else try{x&&(r[x+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch{}};var s,F,D,O,R,ee,te,p,de,ne,$,U,ve,W,Ce,_e=I.addEvent=function(e,t,n){var r=function(i){return i=i||d.event,i.target||(i.target=i.srcElement),i.preventDefault||(i.preventDefault=function(){i.returnValue=!1,i.defaultPrevented=!0}),n.call(this,i)};t=t.split(" ");for(var o,l=0,a=t.length;a>l;l++)o=t[l],e.addEventListener?e.addEventListener(o,n,!1):e.attachEvent("on"+o,r),le.push({element:e,name:o,listener:n})},ct=I.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,o=t.length;o>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},ut=function(){for(var e,t=0,n=le.length;n>t;t++)e=le[t],ct(e.element,e.name,e.listener);le=[]},re=function(e,t,n){O.keyframe&&O.keyframe.call(s,e,t,n)},Be=function(){var e=s.getScrollTop();S=0,R&&!H&&(N.style.height=""),nt(),R&&!H&&(N.style.height=S+v.clientHeight+"px"),H?s.setScrollTop(b.min(s.getScrollTop(),S)):s.setScrollTop(e,!0),U=!0},pt=function(){var e,t,n=v.clientHeight,r={};for(e in ee)t=ee[e],typeof t=="function"?t=t.call(s):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},mt=function(){var e=D&&D.offsetHeight||0,t=b.max(e,N.scrollHeight,N.offsetHeight,v.scrollHeight,v.offsetHeight,v.clientHeight);return t-v.clientHeight},Ge=function(e){var t="className";return d.SVGElement&&e instanceof d.SVGElement&&(e=e[t],t="baseVal"),e[t]},q=function(e,t,n){var r="className";if(d.SVGElement&&e instanceof d.SVGElement&&(e=e[r],r="baseVal"),n===c)return e[r]=t,c;for(var o=e[r],l=0,a=n.length;a>l;l++)o=oe(o).replace(oe(n[l])," ");o=Ke(o);for(var i=0,m=t.length;m>i;i++)oe(o).indexOf(oe(t[i]))===-1&&(o+=" "+t[i]);e[r]=Ke(o)},Ke=function(e){return e.replace(Xe,"")},oe=function(e){return" "+e+" "},X=Date.now||function(){return+new Date},dt=function(e,t){return e.frame-t.frame},S=0,ge=1,L="down",C=-1,ye=X(),he=0,Te=0,ae=!1,be=0,H=!1,Z=0,le=[];typeof define=="function"&&define.amd?define("skrollr",function(){return I}):typeof module<"u"&&module.exports?module.exports=I:d.skrollr=I})(window,document);
